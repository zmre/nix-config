diff --git a/src/ctpv.h b/src/ctpv.h
index dbe1ad1..46dc381 100644
--- a/src/ctpv.h
+++ b/src/ctpv.h
@@ -24,4 +24,10 @@ extern struct CTPV ctpv;
 
 extern const char any_type[];
 
+#if defined(__APPLE__) || defined(__NetBSD__) 
+#define st_atim st_atimespec
+#define st_ctim st_ctimespec
+#define st_mtim st_mtimespec
+#endif
+
 #endif
